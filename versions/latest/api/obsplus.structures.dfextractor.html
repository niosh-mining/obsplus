
<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>obsplus.structures.dfextractor module &#8212; ObsPlus  [ 0.3.1 ] 0.3.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css?v=5283bb3d" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    
    <script src="../_static/documentation_options.js?v=4621528c"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">ObsPlus  [ 0.3.1 ]</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">obsplus.structures.dfextractor module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-obsplus.structures.dfextractor">
<span id="obsplus-structures-dfextractor-module"></span><h1>obsplus.structures.dfextractor module<a class="headerlink" href="#module-obsplus.structures.dfextractor" title="Link to this heading">¶</a></h1>
<p>DataFrameExtractor class and friends.</p>
<dl class="py class">
<dt class="sig sig-object py" id="obsplus.structures.dfextractor.DataFrameExtractor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">obsplus.structures.dfextractor.</span></span><span class="sig-name descname"><span class="pre">DataFrameExtractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtypes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass_dataframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/structures/dfextractor.html#DataFrameExtractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.structures.dfextractor.DataFrameExtractor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></p>
<p>A class to extract dataframes from nested object trees.</p>
<p>Generally used to construct summary dataframes from nested object
structures such as the obspy Catalog.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cls</strong> – The top-level class the extractor acts on.</p></li>
<li><p><strong>required_columns</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – If not None, assert required columns are in dataframe, and order
columns the same as required_columns, with extra columns at the end.</p></li>
<li><p><strong>dtypes</strong> – A dict of {column name: required data type}. Can also be specified
when registering extractors.</p></li>
<li><p><strong>pass_dataframe</strong> – If True, return dataframes passed to DataFrameExtractor.__call__.
This allows the DataFrameExtractor to be idempotent.</p></li>
<li><p><strong>column_funcs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Mapping</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]</span>) – Columns that are UTCDateTime objects. Will correctly handle
UTCDateTime-able objects (like date-time strings, floats, etc).</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="obsplus.structures.dfextractor.DataFrameExtractor.SkipRow">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SkipRow</span></span><a class="reference internal" href="../_modules/obsplus/structures/dfextractor.html#DataFrameExtractor.SkipRow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.structures.dfextractor.DataFrameExtractor.SkipRow" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">StopIteration</span></code></p>
<p>exception to raise to skip a row.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.structures.dfextractor.DataFrameExtractor.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/structures/dfextractor.html#DataFrameExtractor.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.structures.dfextractor.DataFrameExtractor.copy" title="Link to this definition">¶</a></dt>
<dd><p>Return a deep copy of the fetcher.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#obsplus.structures.dfextractor.DataFrameExtractor" title="obsplus.structures.dfextractor.DataFrameExtractor"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameExtractor</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="obsplus.structures.dfextractor.DataFrameExtractor.dtypes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dtypes</span></span><a class="headerlink" href="#obsplus.structures.dfextractor.DataFrameExtractor.dtypes" title="Link to this definition">¶</a></dt>
<dd><p>Return a dictionary of datatypes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.structures.dfextractor.DataFrameExtractor.extractor">
<span class="sig-name descname"><span class="pre">extractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtypes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/structures/dfextractor.html#DataFrameExtractor.extractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.structures.dfextractor.DataFrameExtractor.extractor" title="Link to this definition">¶</a></dt>
<dd><p>Register an extractor.</p>
<p>An extractor is a function which extracts values from instances of a
class. It should either return a dict of {column names: values} or
a single value and the name of the function (minus <a href="#id1"><span class="problematic" id="id2">get_</span></a> prefix if
one exists) will be the column name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dtypes</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code>]]</span>) – A dict of {column name: dtype} to enforce a schema on the data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="obsplus.structures.dfextractor.DataFrameExtractor.nslc">
<span class="sig-name descname"><span class="pre">nslc</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'channel',</span> <span class="pre">'location',</span> <span class="pre">'network',</span> <span class="pre">'seed_id',</span> <span class="pre">'station'}</span></em><a class="headerlink" href="#obsplus.structures.dfextractor.DataFrameExtractor.nslc" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.structures.dfextractor.DataFrameExtractor.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/structures/dfextractor.html#DataFrameExtractor.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.structures.dfextractor.DataFrameExtractor.register" title="Link to this definition">¶</a></dt>
<dd><p>Registers an alternate constructor.</p>
<p>Registers an alternate constructor that is called when the input is
not an instance of the expected class. This is useful, for examples to
make the DataFrameExtractor idempotent or to default to various read
methods in a path/str is passed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cls</strong> – The dtype to register</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/obsplus_panda.png" alt="Logo of ObsPlus  [ 0.3.1 ]"/>
            </a></p>
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">obsplus.structures.dfextractor module</a><ul>
<li><a class="reference internal" href="#obsplus.structures.dfextractor.DataFrameExtractor"><code class="docutils literal notranslate"><span class="pre">DataFrameExtractor</span></code></a><ul>
<li><a class="reference internal" href="#obsplus.structures.dfextractor.DataFrameExtractor.SkipRow"><code class="docutils literal notranslate"><span class="pre">DataFrameExtractor.SkipRow</span></code></a></li>
<li><a class="reference internal" href="#obsplus.structures.dfextractor.DataFrameExtractor.copy"><code class="docutils literal notranslate"><span class="pre">DataFrameExtractor.copy()</span></code></a></li>
<li><a class="reference internal" href="#obsplus.structures.dfextractor.DataFrameExtractor.dtypes"><code class="docutils literal notranslate"><span class="pre">DataFrameExtractor.dtypes</span></code></a></li>
<li><a class="reference internal" href="#obsplus.structures.dfextractor.DataFrameExtractor.extractor"><code class="docutils literal notranslate"><span class="pre">DataFrameExtractor.extractor()</span></code></a></li>
<li><a class="reference internal" href="#obsplus.structures.dfextractor.DataFrameExtractor.nslc"><code class="docutils literal notranslate"><span class="pre">DataFrameExtractor.nslc</span></code></a></li>
<li><a class="reference internal" href="#obsplus.structures.dfextractor.DataFrameExtractor.register"><code class="docutils literal notranslate"><span class="pre">DataFrameExtractor.register()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/obsplus.structures.dfextractor.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">ObsPlus  [ 0.3.1 ]</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">obsplus.structures.dfextractor module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, Derrick Chambers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>