
<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>obsplus.bank.wavebank module &#8212; ObsPlus  [ 0.3.1.dev4+ge0e154d ] 0.3.1.dev4+ge0e154d documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css?v=5283bb3d" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    
    <script src="../_static/documentation_options.js?v=dbcc8867"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">ObsPlus  [ 0.3.1.dev4+ge0e154d ]</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">obsplus.bank.wavebank module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-obsplus.bank.wavebank">
<span id="obsplus-bank-wavebank-module"></span><h1>obsplus.bank.wavebank module<a class="headerlink" href="#module-obsplus.bank.wavebank" title="Link to this heading">¶</a></h1>
<p>A local database for waveform formats.</p>
<dl class="py class">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">obsplus.bank.wavebank.</span></span><span class="sig-name descname"><span class="pre">WaveBank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_structure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_structure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mseed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">executor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/bank/wavebank.html#WaveBank"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_Bank</span></code></p>
<p>A class to interact with a directory of waveform files.</p>
<p>WaveBank recursively reads each file in a directory and creates an index
to allow the files to be efficiently queried.</p>
<p>Implements a superset of the <a class="reference internal" href="obsplus.interfaces.html#obsplus.interfaces.WaveformClient" title="obsplus.interfaces.WaveformClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">WaveformClient</span></code></a>
interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_path</strong> (<em>str</em>) – The path to the directory containing waveform files. If it does not
exist an empty directory will be created.</p></li>
<li><p><strong>path_structure</strong> (<em>str</em>) – <p>Define the directory structure of the wavebank that will be used to
put waveforms into the directory. Characters are separated by /,
regardless of operating system. The following words can be used in
curly braces as data specific variables:</p>
<blockquote>
<div><p>year, month, day, julday, hour, minute, second, network,
station, location, channel, time</p>
</div></blockquote>
<p>example : streams/{year}/{month}/{day}/{network}/{station}
If no structure is provided it will be read from the index, if no
index exists the default is {net}/{sta}/{chan}/{year}/{month}/{day}</p>
</p></li>
<li><p><strong>name_structure</strong> (<em>str</em>) – The same as path structure but for the file name. Supports the same
variables but requires a period as the separation character. The
default extension (.mseed) will be added. The default is {time}
example : {seedid}.{time}</p></li>
<li><p><strong>index_path</strong> (<em>str</em>) – The path to the index file containing the contents of the directory.
By default it will be created in the top-level of the data directory.</p></li>
<li><p><strong>cache_size</strong> (<em>int</em>) – The number of queries to store. Avoids having to read the index of
the bank multiple times for queries involving the same start and end
times.</p></li>
<li><p><strong>format</strong> (<em>str</em>) – The expected format for the waveform files. Any format supported by
obspy.read is permitted. The default is mseed. Other formats will be
tried after the default parser fails.</p></li>
<li><p><strong>ext</strong> (<em>str</em><em> or </em><em>None</em>) – The extension of the waveform files. If provided, only files with
this extension will be read.</p></li>
<li><p><strong>executor</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executor</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span>) – An executor with the same interface as concurrent.futures.Executor,
the map method of the executor will be used for reading files and
updating indices.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># --- Create a `WaveBank` from a path to a directory with waveform files.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">obsplus</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">obspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">waveform_path</span> <span class="o">=</span> <span class="n">obsplus</span><span class="o">.</span><span class="n">copy_dataset</span><span class="p">(</span><span class="s1">&#39;default_test&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">waveform_path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># init a WaveBank and index the files.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wbank</span> <span class="o">=</span> <span class="n">obsplus</span><span class="o">.</span><span class="n">WaveBank</span><span class="p">(</span><span class="n">waveform_path</span><span class="p">)</span><span class="o">.</span><span class="n">update_index</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># --- Retrieve a stream objects from the bank.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load all Z component data (dont do this for large datasets!)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st</span> <span class="o">=</span> <span class="n">wbank</span><span class="o">.</span><span class="n">get_waveforms</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="s1">&#39;*Z&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="n">obspy</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">st</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># --- Read the index used by WaveBank as a DataFrame.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">wbank</span><span class="o">.</span><span class="n">read_index</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;there should be 3 traces in the bank.&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># --- Get availability of archive as dataframe</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">avail</span> <span class="o">=</span> <span class="n">wbank</span><span class="o">.</span><span class="n">get_availability_df</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># --- Get table of gaps in the archive</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gaps_df</span> <span class="o">=</span> <span class="n">wbank</span><span class="o">.</span><span class="n">get_gaps_df</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># --- yield 5 sec contiguous streams with 1 sec overlap (6 sec total)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># get input parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span> <span class="o">=</span> <span class="n">avail</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;starttime&#39;</span><span class="p">],</span> <span class="n">avail</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;endtime&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">starttime</span><span class="o">=</span><span class="n">t1</span><span class="p">,</span> <span class="n">endtime</span><span class="o">=</span><span class="n">t2</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">overlap</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># init list for storing output</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">wbank</span><span class="o">.</span><span class="n">yield_waveforms</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">out</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># --- Put a new stream and into the bank</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># get an event from another dataset, keep track of its id</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">obsplus</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;bingham_test&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">query_kwargs</span> <span class="o">=</span> <span class="nb">dict</span> <span class="p">(</span><span class="n">station</span><span class="o">=</span><span class="s1">&#39;NOQ&#39;</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="s1">&#39;*Z&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_st</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">waveform_client</span><span class="o">.</span><span class="n">get_waveforms</span><span class="p">(</span><span class="o">**</span><span class="n">query_kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_st</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wbank</span><span class="o">.</span><span class="n">put_waveforms</span><span class="p">(</span><span class="n">new_st</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st2</span> <span class="o">=</span> <span class="n">wbank</span><span class="o">.</span><span class="n">get_waveforms</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="s1">&#39;*Z&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_st</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.availability">
<span class="sig-name descname"><span class="pre">availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/bank/wavebank.html#WaveBank.availability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.availability" title="Link to this definition">¶</a></dt>
<dd><p>Get availability for a given group of instruments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>network</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span>) – The network code.</p></li>
<li><p><strong>station</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span>) – The station code.</p></li>
<li><p><strong>location</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span>) – The location code</p></li>
<li><p><strong>channel</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span>) – The chanel code.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">UTCDateTime</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">UTCDateTime</span></code>]]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.buffer">
<span class="sig-name descname"><span class="pre">buffer</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">numpy.timedelta64(1000000000,'ns')</span></em><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.buffer" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.columns_no_path">
<span class="sig-name descname"><span class="pre">columns_no_path</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('network',</span> <span class="pre">'station',</span> <span class="pre">'location',</span> <span class="pre">'channel',</span> <span class="pre">'starttime',</span> <span class="pre">'endtime',</span> <span class="pre">'sampling_period')</span></em><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.columns_no_path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.get_availability_df">
<span class="sig-name descname"><span class="pre">get_availability_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/bank/wavebank.html#WaveBank.get_availability_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.get_availability_df" title="Link to this definition">¶</a></dt>
<dd><p>Return a dataframe specifying the availability of the archive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>network</strong> (<em>str</em>) – The network code</p></li>
<li><p><strong>station</strong> (<em>str</em>) – The station code</p></li>
<li><p><strong>location</strong> (<em>str</em>) – The location code</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The channel code</p></li>
<li><p><strong>starttime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired starttime of the waveforms</p></li>
<li><p><strong>endtime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired endtime of the waveforms</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.get_gaps_df">
<span class="sig-name descname"><span class="pre">get_gaps_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/bank/wavebank.html#WaveBank.get_gaps_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.get_gaps_df" title="Link to this definition">¶</a></dt>
<dd><p>Return a dataframe containing an entry for every gap in the archive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>network</strong> (<em>str</em>) – The network code</p></li>
<li><p><strong>station</strong> (<em>str</em>) – The station code</p></li>
<li><p><strong>location</strong> (<em>str</em>) – The location code</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The channel code</p></li>
<li><p><strong>starttime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired starttime of the waveforms</p></li>
<li><p><strong>endtime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired endtime of the waveforms</p></li>
<li><p><strong>min_gap</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta64</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span>) – <dl class="simple">
<dt>The minimum gap to report in seconds or as a timedelta64.</dt><dd><p>If None, use 1.5 x sampling rate for each channel.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.get_segments_df">
<span class="sig-name descname"><span class="pre">get_segments_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/bank/wavebank.html#WaveBank.get_segments_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.get_segments_df" title="Link to this definition">¶</a></dt>
<dd><p>Return a dataframe of contiguous segments for the selected channels</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>network</strong> (<em>str</em>) – The network code</p></li>
<li><p><strong>station</strong> (<em>str</em>) – The station code</p></li>
<li><p><strong>location</strong> (<em>str</em>) – The location code</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The channel code</p></li>
<li><p><strong>starttime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired starttime of the waveforms</p></li>
<li><p><strong>endtime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired endtime of the waveforms</p></li>
<li><p><strong>min_gap</strong> – The minimum gap to report in seconds or as a timedelta64.
If None, use 1.5 x sampling rate for each channel.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.get_uptime_df">
<span class="sig-name descname"><span class="pre">get_uptime_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/bank/wavebank.html#WaveBank.get_uptime_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.get_uptime_df" title="Link to this definition">¶</a></dt>
<dd><p>Return a dataframe with uptime stats for selected channels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>network</strong> (<em>str</em>) – The network code</p></li>
<li><p><strong>station</strong> (<em>str</em>) – The station code</p></li>
<li><p><strong>location</strong> (<em>str</em>) – The location code</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The channel code</p></li>
<li><p><strong>starttime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired starttime of the waveforms</p></li>
<li><p><strong>endtime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired endtime of the waveforms</p></li>
<li><p><strong>min_gap</strong> – The minimum gap to report in seconds or as a timedelta64.
If None, use 1.5 x sampling rate for each channel.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.get_waveforms">
<span class="sig-name descname"><span class="pre">get_waveforms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/bank/wavebank.html#WaveBank.get_waveforms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.get_waveforms" title="Link to this definition">¶</a></dt>
<dd><p>Get waveforms from the bank.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>network</strong> (<em>str</em>) – The network code</p></li>
<li><p><strong>station</strong> (<em>str</em>) – The station code</p></li>
<li><p><strong>location</strong> (<em>str</em>) – The location code</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The channel code</p></li>
<li><p><strong>starttime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired starttime of the waveforms</p></li>
<li><p><strong>endtime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired endtime of the waveforms</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stream</span></code></span></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>All string parameters can use posix style matching with * and ? chars.
All datapoints between selected starttime and endtime will be returned.
Consequently there may be gaps in the returned stream.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.get_waveforms_bulk">
<span class="sig-name descname"><span class="pre">get_waveforms_bulk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bulk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/bank/wavebank.html#WaveBank.get_waveforms_bulk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.get_waveforms_bulk" title="Link to this definition">¶</a></dt>
<dd><p>Get a large number of waveforms with a bulk request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bulk</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">UTCDateTime</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime64</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">UTCDateTime</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime64</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code>]] | <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span>) – A list of any number of lists containing the following:
(network, station, location, channel, starttime, endtime).</p></li>
<li><p><strong>index</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span>) – A dataframe returned by read_index. Enables calling code to only
read the index from disk once for repetitive calls.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stream</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.hdf_kwargs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hdf_kwargs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.hdf_kwargs" title="Link to this definition">¶</a></dt>
<dd><p>A dict of hdf_kwargs to pass to PyTables</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.index_columns">
<span class="sig-name descname"><span class="pre">index_columns</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('network',</span> <span class="pre">'station',</span> <span class="pre">'location',</span> <span class="pre">'channel',</span> <span class="pre">'starttime',</span> <span class="pre">'endtime',</span> <span class="pre">'sampling_period',</span> <span class="pre">'path')</span></em><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.index_columns" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.index_ints">
<span class="sig-name descname"><span class="pre">index_ints</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('starttime',</span> <span class="pre">'endtime',</span> <span class="pre">'sampling_period')</span></em><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.index_ints" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.index_str">
<span class="sig-name descname"><span class="pre">index_str</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('network',</span> <span class="pre">'station',</span> <span class="pre">'location',</span> <span class="pre">'channel')</span></em><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.index_str" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.last_updated_timestamp">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">last_updated_timestamp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.last_updated_timestamp" title="Link to this definition">¶</a></dt>
<dd><p>Return the last modified time stored in the index, else None.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.metadata_columns">
<span class="sig-name descname"><span class="pre">metadata_columns</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['last_updated',</span> <span class="pre">'path_structure',</span> <span class="pre">'name_structure']</span></em><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.metadata_columns" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.min_itemsize">
<span class="sig-name descname"><span class="pre">min_itemsize</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'channel':</span> <span class="pre">8,</span> <span class="pre">'location':</span> <span class="pre">8,</span> <span class="pre">'network':</span> <span class="pre">8,</span> <span class="pre">'path':</span> <span class="pre">79,</span> <span class="pre">'station':</span> <span class="pre">8}</span></em><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.min_itemsize" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.namespace">
<span class="sig-name descname"><span class="pre">namespace</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/waveforms'</span></em><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.namespace" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.put_waveforms">
<span class="sig-name descname"><span class="pre">put_waveforms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/bank/wavebank.html#WaveBank.put_waveforms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.put_waveforms" title="Link to this definition">¶</a></dt>
<dd><p>Add the waveforms in a waveforms to the bank.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stream</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">Trace</span></code></span>) – An obspy waveforms object to add to the bank</p></li>
<li><p><strong>name</strong> – Name of file, if None it will be determined based on contents</p></li>
<li><p><strong>update_index</strong> – Flag to indicate whether or not to update the waveform index
after writing the new events. Default is True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.read_index">
<span class="sig-name descname"><span class="pre">read_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/bank/wavebank.html#WaveBank.read_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.read_index" title="Link to this definition">¶</a></dt>
<dd><p>Return a dataframe of the index, optionally applying filters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>network</strong> (<em>str</em>) – The network code</p></li>
<li><p><strong>station</strong> (<em>str</em>) – The station code</p></li>
<li><p><strong>location</strong> (<em>str</em>) – The location code</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The channel code</p></li>
<li><p><strong>starttime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired starttime of the waveforms</p></li>
<li><p><strong>endtime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired endtime of the waveforms</p></li>
<li><p><strong>kwargs</strong> – kwargs are passed to pandas.read_hdf function</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.update_index">
<span class="sig-name descname"><span class="pre">update_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/bank/wavebank.html#WaveBank.update_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.update_index" title="Link to this definition">¶</a></dt>
<dd><p>Iterate files in bank and add any modified since last update to index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bar</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span>) – <p>This parameter controls if a progress bar will be used for this
function call. Its behavior is dependent on the <cite>bar</cite> parameter:</p>
<blockquote>
<div><p>False - Don’t use a progress bar
None - Use the default progress bar
ProgressBar - a custom implementation of progress bar is used.</p>
</div></blockquote>
<p>If a custom progress bar is to be used, it must have an <cite>update</cite>
and <cite>finish</cite> method.</p>
</p></li>
<li><p><strong>sub_paths</strong> – A str, or iterable of str, specifying subdirectories (relative
to bank path) to allow updating only files in specific directories
of the bank. This is useful for large banks which have files added
to them in predictable locations. However, if other files are added
outside of these locations they may not get indexed as the banks timestamp
indicating the last time of indexing will still get updated.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank" title="obsplus.bank.wavebank.WaveBank"><code class="xref py py-class docutils literal notranslate"><span class="pre">WaveBank</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="obsplus.bank.wavebank.WaveBank.yield_waveforms">
<span class="sig-name descname"><span class="pre">yield_waveforms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3600.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/obsplus/bank/wavebank.html#WaveBank.yield_waveforms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#obsplus.bank.wavebank.WaveBank.yield_waveforms" title="Link to this definition">¶</a></dt>
<dd><p>Yield time-series segments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>network</strong> (<em>str</em>) – The network code</p></li>
<li><p><strong>station</strong> (<em>str</em>) – The station code</p></li>
<li><p><strong>location</strong> (<em>str</em>) – The location code</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The channel code</p></li>
<li><p><strong>starttime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired starttime of the waveforms</p></li>
<li><p><strong>endtime</strong> (<em>float</em><em> or </em><em>obspy.UTCDateTime</em>) – The desired endtime of the waveforms</p></li>
<li><p><strong>duration</strong> (<em>float</em>) – The duration of the streams to yield. All channels selected
channels will be included in the waveforms.</p></li>
<li><p><strong>overlap</strong> (<em>float</em>) – If duration is used, the amount of overlap in yielded streams,
added to the end of the waveforms.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stream</span></code></span></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>All string parameters can use posix style matching with * and ? chars.</p>
<p>Total duration of yielded streams = duration + overlap.</p>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/obsplus_panda.png" alt="Logo of ObsPlus  [ 0.3.1.dev4+ge0e154d ]"/>
            </a></p>
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">obsplus.bank.wavebank module</a><ul>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank"><code class="docutils literal notranslate"><span class="pre">WaveBank</span></code></a><ul>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.availability"><code class="docutils literal notranslate"><span class="pre">WaveBank.availability()</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.buffer"><code class="docutils literal notranslate"><span class="pre">WaveBank.buffer</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.columns_no_path"><code class="docutils literal notranslate"><span class="pre">WaveBank.columns_no_path</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.get_availability_df"><code class="docutils literal notranslate"><span class="pre">WaveBank.get_availability_df()</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.get_gaps_df"><code class="docutils literal notranslate"><span class="pre">WaveBank.get_gaps_df()</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.get_segments_df"><code class="docutils literal notranslate"><span class="pre">WaveBank.get_segments_df()</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.get_uptime_df"><code class="docutils literal notranslate"><span class="pre">WaveBank.get_uptime_df()</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.get_waveforms"><code class="docutils literal notranslate"><span class="pre">WaveBank.get_waveforms()</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.get_waveforms_bulk"><code class="docutils literal notranslate"><span class="pre">WaveBank.get_waveforms_bulk()</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.hdf_kwargs"><code class="docutils literal notranslate"><span class="pre">WaveBank.hdf_kwargs</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.index_columns"><code class="docutils literal notranslate"><span class="pre">WaveBank.index_columns</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.index_ints"><code class="docutils literal notranslate"><span class="pre">WaveBank.index_ints</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.index_str"><code class="docutils literal notranslate"><span class="pre">WaveBank.index_str</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.last_updated_timestamp"><code class="docutils literal notranslate"><span class="pre">WaveBank.last_updated_timestamp</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.metadata_columns"><code class="docutils literal notranslate"><span class="pre">WaveBank.metadata_columns</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.min_itemsize"><code class="docutils literal notranslate"><span class="pre">WaveBank.min_itemsize</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.namespace"><code class="docutils literal notranslate"><span class="pre">WaveBank.namespace</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.put_waveforms"><code class="docutils literal notranslate"><span class="pre">WaveBank.put_waveforms()</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.read_index"><code class="docutils literal notranslate"><span class="pre">WaveBank.read_index()</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.update_index"><code class="docutils literal notranslate"><span class="pre">WaveBank.update_index()</span></code></a></li>
<li><a class="reference internal" href="#obsplus.bank.wavebank.WaveBank.yield_waveforms"><code class="docutils literal notranslate"><span class="pre">WaveBank.yield_waveforms()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/obsplus.bank.wavebank.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">ObsPlus  [ 0.3.1.dev4+ge0e154d ]</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">obsplus.bank.wavebank module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, Derrick Chambers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>